<!-- Admin Sidebar Container -->
<div class="admin-sidebar h-screen bg-white shadow-lg transition-all duration-300 ease-in-out flex flex-col"
     [class.collapsed]="isCollapsed()">
  
  <!-- Sidebar Header -->
  <div class="sidebar-header border-b border-gray-200 p-4">
    <!-- Logo and Toggle Button -->
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3" *ngIf="!isCollapsed()">
        <div class="flex-shrink-0">
          <img src="/assets/images/logo.png" 
               alt="StudyBridge" 
               class="h-8 w-8"
               *ngIf="false">
          <!-- Fallback logo -->
          <div class="h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center">
            <i class="pi pi-graduation-cap text-white text-sm"></i>
          </div>
        </div>
        <div class="hidden lg:block">
          <h1 class="text-xl font-bold text-gray-900">StudyBridge</h1>
          <p class="text-xs text-gray-500">Admin Panel</p>
        </div>
      </div>
      
      <!-- Toggle Button -->
      <button (click)="toggleSidebar()"
              class="p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200">
        <i class="pi pi-bars text-gray-600"></i>
      </button>
    </div>
  </div>



  <!-- Navigation Menu -->
  <nav class="sidebar-nav flex-1 overflow-y-auto">
    <ul class="menu-list py-4 space-y-1">
      <!-- Menu Items -->
      <li *ngFor="let item of menuItems()" 
          class="menu-item">
        
        <!-- Parent Menu Item -->
        <div class="menu-item-content">
          <!-- Single Link Item -->
          <a *ngIf="!item.children && item.routerLink"
             [routerLink]="item.routerLink"
             routerLinkActive="active"
             [title]="item.label"
             class="menu-link flex items-center px-4 py-3 mx-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 group">
            
            <!-- Icon -->
            <div class="menu-icon flex-shrink-0">
              <i [class]="item.icon" 
                 class="text-lg group-hover:text-blue-600"></i>
            </div>
            
            <!-- Label -->
            <span *ngIf="!isCollapsed()" 
                  class="ml-3 font-medium truncate">{{ item.label }}</span>
            
            <!-- Badge -->
            <span *ngIf="item.badge && !isCollapsed()" 
                  class="ml-auto px-2 py-1 bg-red-500 text-white text-xs rounded-full">
              {{ item.badge }}
            </span>
          </a>

          <!-- Parent Item with Children -->
          <button *ngIf="item.children"
                  (click)="onMenuClick(item)"
                  [title]="item.label"
                  class="menu-toggle w-full flex items-center px-4 py-3 mx-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 group">
            
            <!-- Icon -->
            <div class="menu-icon flex-shrink-0">
              <i [class]="item.icon" 
                 class="text-lg group-hover:text-blue-600"></i>
            </div>
            
            <!-- Label -->
            <span *ngIf="!isCollapsed()" 
                  class="ml-3 font-medium truncate flex-1 text-left">{{ item.label }}</span>
            
            <!-- Expand/Collapse Icon -->
            <i *ngIf="!isCollapsed()" 
               class="pi pi-chevron-down ml-auto transition-transform duration-200"
               [class.rotate-180]="item.expanded"></i>
          </button>
        </div>

        <!-- Submenu -->
        <ul *ngIf="item.children && item.expanded && !isCollapsed()" 
            class="submenu ml-4 mt-2 space-y-1 border-l-2 border-gray-100">
          <li *ngFor="let child of item.children">
            <a [routerLink]="child.routerLink"
               routerLinkActive="active"
               class="submenu-link flex items-center px-4 py-2 ml-4 rounded-lg text-sm text-gray-600 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200">
              
              <!-- Child Icon -->
              <i [class]="child.icon" class="text-sm mr-3"></i>
              
              <!-- Child Label -->
              <span class="truncate">{{ child.label }}</span>
              
              <!-- Child Badge -->
              <span *ngIf="child.badge" 
                    class="ml-auto px-2 py-1 bg-red-500 text-white text-xs rounded-full">
                {{ child.badge }}
              </span>
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>
</div>

<!-- Tooltip for collapsed sidebar -->
<div *ngIf="isCollapsed()" class="tooltip-container">
  <!-- Add tooltips for collapsed menu items if needed -->
</div>